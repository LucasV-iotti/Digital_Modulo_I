
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Atendimento Pro ‚Äî Contato Digital (V7.1.4 ‚Äî Hard, padr√£o)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="topbar">
    <div class="brand">
      <div class="logo">AP</div>
      <div class="title">
        <strong>Atendimento Pro</strong>
        <span>Contato Digital ‚Äî Treinamento</span>
      </div>
    </div>
    <div class="actions">
      <div id="themeToggle" class="segmented" role="tablist" aria-label="Tema">
        <button type="button" class="active" data-theme="dark" role="tab" aria-selected="true">Escuro</button>
        <button type="button" data-theme="light" role="tab" aria-selected="false">Claro</button>
      </div>
    </div>
  </div>

  <div id="app">
    <!-- START SCREEN -->
    <section id="start-screen" class="screen active" aria-labelledby="startTitle">
      <div class="card hero" role="region" aria-label="Tela inicial">
        <div class="hero-left">
          <h1 id="startTitle">Treino de Chat com <span>Personalidade</span> ‚ú®</h1>
          <p class="subtitle">Onboarding para contato digital: empatia, seguran√ßa de dados e solu√ß√£o objetiva.</p>

          <div class="form" aria-label="Formul√°rio de identifica√ß√£o">
            <div class="row">
              <div class="col">
                <label for="playerName">Nome</label>
                <input id="playerName" name="playerName" type="text" autocomplete="name" placeholder="Seu nome" />
              </div>
              <div class="col">
                <label for="playerCPF">CPF</label>
                <input id="playerCPF" name="playerCPF" inputmode="numeric" autocomplete="off" placeholder="000.000.000-00" />
              </div>
            </div>
            <div class="row end" style="margin-top:10px">
              <button id="btnStart" class="primary" type="button">Come√ßar</button>
            </div>
            <p class="tip">Dica: use <strong>1‚Äì4</strong> para responder r√°pido. O feedback aparece na lateral.</p>
          </div>

          <div class="panel" style="margin-top:14px" aria-labelledby="rulesTitle">
            <h3 id="rulesTitle" style="margin:0 0 6px">Regras do Jogo</h3>
            <ul class="small muted" style="margin:0; padding-left:18px; line-height:1.5">
              <li><strong>Objetivo:</strong> conduzir o atendimento com <em>Empatia</em>, <em>Resolu√ß√£o</em> e boa gest√£o de <em>Tempo</em>, respeitando LGPD.</li>
              <li><strong>Como jogar:</strong> escolha uma das respostas a cada mensagem do cliente.</li>
              <li><strong>Atalhos:</strong> pressione <kbd>1</kbd>‚Äì<kbd>4</kbd> para selecionar op√ß√µes; <kbd>Enter</kbd> confirma a op√ß√£o focada.</li>
              <li><strong>Pontua√ß√£o:</strong> suas escolhas ajustam Empatia, Resolu√ß√£o, Tempo e Satisfa√ß√£o do cliente.</li>
              <li><strong>Desafio:</strong> as alternativas s√£o <em>muito similares</em>, a ordem √© aleat√≥ria e h√° <em>penalidade por demora</em> na resposta.</li>
              <li><strong>LGPD:</strong> valide pelo <em>m√≠nimo necess√°rio</em>. Evite RG, cart√£o, selfie com documento ou CPF completo.</li>
            </ul>
          </div>
        </div>

        <div class="hero-right">
          <div class="phone-mock" aria-hidden="true">
            <div class="mock-header">
              <div class="mock-avatar">C</div>
              <div class="mock-info">
                <strong>Cliente</strong><br/>
                <small>online</small>
              </div>
              <div class="mock-meta">Hoje</div>
            </div>
            <div class="mock-body">
              <div class="bubble left">Oi! Preciso de ajuda üëã</div>
              <div class="bubble right">Ol√°! Vou te ajudar, tudo bem? ‚úÖ</div>
              <div class="bubble left">Meu pedido atrasou üôÅ</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- GAME SCREEN -->
    <section id="game-screen" class="screen" aria-labelledby="gameTitle">
      <div class="layout">
        <aside class="sidebar">
          <div class="panel" id="feedbackPanel">
            <h3 style="margin:0 0 8px">Feedback em tempo real</h3>
            <div class="small">
              <div class="fb-row"><strong>Tom do cliente:</strong> <span id="fbTone">‚Äî</span></div>
              <div class="fb-row"><strong>√öltima decis√£o:</strong> <span id="fbDecision">‚Äî</span></div>
              <div class="fb-row"><strong>LGPD &amp; Compliance:</strong> <span id="fbCompliance" class="badge">‚Äî</span></div>
              <div class="fb-row"><strong>Ritmo:</strong> <span id="fbPace">‚Äî</span></div>
            </div>
            <div class="fb-stages" style="margin-top:10px">
              <div class="small muted">Est√°gio do atendimento</div>
              <ul id="fbStages" class="stages"></ul>
            </div>
          </div>

          <div class="panel">
            <h4 style="margin:0 0 8px">Compet√™ncias</h4>
            <div class="summary mini" aria-live="polite">
              <div class="metric"><div>Empatia</div><strong id="mEmpatia">0</strong></div>
              <div class="metric"><div>Resolu√ß√£o</div><strong id="mResolucao">0</strong></div>
              <div class="metric"><div>Tempo</div><strong id="mTempo">0</strong></div>
            </div>
          </div>
        </aside>

        <main class="main">
          <div class="chat" role="region" aria-label="Janela de chat">
            <div class="chat-header">
              <div class="left">
                <div class="avatar sm">C</div>
                <div>
                  <div id="headerCust"><strong>Cliente</strong></div>
                  <div id="headerStatus" class="label-inline">online</div>
                </div>
              </div>
              <div class="right"></div>
            </div>

            <div id="chatWindow" class="chat-window" role="log" aria-live="polite" aria-relevant="additions"></div>

            <div class="footer">
              <div id="typing" class="typing hidden" aria-live="polite">
                <span class="dot"></span><span class="dot"></span><span class="dot"></span>
              </div>
              <div class="options-wrap">
                <div id="options" class="options"></div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </section>

    <!-- REVIEW SCREEN (novo) -->
    <section id="review-screen" class="screen" aria-labelledby="reviewTitle">
      <div class="card review">
        <h3 id="reviewTitle" style="margin:6px 0 10px">Resumo do Atendimento</h3>
        <p class="muted" id="reviewSubtitle">Conferir pontos fortes, melhorias e transcri√ß√£o completa.</p>

        <div class="review-grid">
          <div class="panel">
            <h4>Vis√£o Geral</h4>
            <ul id="reviewSummary" class="kv"></ul>
          </div>

          <div class="panel">
            <h4>Decis√µes & Feedbacks</h4>
            <div id="reviewDecisions" class="decisions"></div>
          </div>
        </div>

        <div class="panel">
          <h4>Transcri√ß√£o</h4>
          <div id="reviewTranscript" class="transcript" role="log" aria-live="polite"></div>
        </div>

        <div class="actions">
          <button id="btnExportJSON" type="button">Exportar .JSON</button>
          <button id="btnContinueToEnd" class="primary" type="button">Continuar</button>
        </div>
      </div>
    </section>

    <!-- END SCREEN -->
    <section id="end-screen" class="screen" aria-labelledby="endTitle">
      <div class="card end">
        <h3 id="endTitle" style="margin:6px 0 10px">Turno conclu√≠do</h3>
        <p class="muted">Resumo das compet√™ncias</p>
        <div class="summary" aria-live="polite">
          <div class="metric"><div>Empatia</div><strong id="endEmpatia">0</strong></div>
          <div class="metric"><div>Resolu√ß√£o</div><strong id="endResolucao">0</strong></div>
          <div class="metric"><div>Tempo</div><strong id="endTempo">0</strong></div>
          <div class="metric"><div>Total</div><strong id="endTotal">0</strong></div>
        </div>
        <div class="total">Medalha: <span id="endMedalha">üèÖ</span></div>
        <div class="actions"><button id="btnReplay" type="button">Jogar novamente</button></div>
      </div>
    </section>
  </div>

  <script src="script.js"></script>
</body>
</html>
