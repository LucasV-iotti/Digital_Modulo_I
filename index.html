<!DOCTYPE html>

<html lang="pt-br">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Chat Lab â€” MissÃ£o II (CobranÃ§a)</title>
<link href="style.css" rel="stylesheet"/>
</head>
<body>
<div class="topbar">
<div class="brand">
<div class="logo">ğŸ’¬</div>
<h1>Chat Lab â€” MissÃ£o II</h1>
</div>
<div class="scorebar">
<span class="chip">ğŸ¤ Empatia: <b id="scoreEmpatia">0</b></span>
<span class="chip">ğŸ¯ ConduÃ§Ã£o: <b id="scoreConducao">0</b></span>
<span class="chip">â±ï¸ Agilidade: <b id="scoreAgilidade">0</b></span>
<span class="chip">ğŸ“‚ Caso: <b id="caseIndex">1</b>/<b id="caseTotal">0</b></span>
</div>
</div>
<div class="container">
<aside class="panel info">
<h3>Dicas rÃ¡pidas</h3>
<ul class="tips rules">
<li>Mantenha tom profissional e empÃ¡tico com foco em negociaÃ§Ã£o.</li>
<li>PeÃ§a nÂº do contrato apenas quando necessÃ¡rio para a aÃ§Ã£o.</li>
<li>OfereÃ§a alternativas viÃ¡veis (Ã  vista/parcelado) e evite ameaÃ§as.</li>
</ul>
<div class="prefs">
<h3>PreferÃªncias</h3>
<label class="toggle">
<input id="prefLargeUI" type="checkbox"/>
<span aria-hidden="true"></span>
<span class="toggle-text">Interface maiores</span>
</label>
<label class="toggle">
<input id="prefDarkMode" type="checkbox"/>
<span aria-hidden="true"></span>
<span class="toggle-text">Tema escuro</span>
</label>
</div>
</aside>
<main class="game">
<div class="statusbar">
<div class="timer">
<div class="progress"><div class="progress-bar" id="timeBar" style="width:0%"></div></div>
<div id="timeLabel">--s</div>
</div>
<div class="controls">
<button class="btn secondary" id="btnVerify">ğŸ“ Estou verificandoâ€¦</button>
<button class="btn primary" disabled="" id="btnNext">PrÃ³ximo caso â–¶</button>
</div>
</div>
<div aria-label="Mensagens do chat" aria-live="polite" class="chat" id="chat" role="log"></div>
<div aria-label="Alternativas de resposta" class="options" id="options"></div>
<div class="footerbar">
<div class="legend">
<span class="tag emp">Empatia</span>
<span class="tag con">ConduÃ§Ã£o</span>
<span class="tag agi">Agilidade</span>
</div>
<div class="footer-actions">
<button class="btn ghost" id="btnOpenTyping">âš¡ DigitaÃ§Ã£o 30s</button>
<!-- BotÃ£o Alternativas âŒ„/âŒƒ Ã© injetado por JS -->
</div>
</div>
</main>
</div>
<div class="credits">Feito para treinar negociaÃ§Ã£o em cobranÃ§a com empatia, conduÃ§Ã£o e agilidade.</div>
<!-- Intro Modal -->
<div aria-labelledby="introTitle" aria-modal="true" class="modal hidden" id="modalIntro" role="dialog">
<div class="modal-card">
<h2 id="introTitle">IdentificaÃ§Ã£o do jogador</h2>
<div class="id-grid">
<label>Nome
          <input autocomplete="name" id="inPlayerName" placeholder="Seu nome" type="text"/>
</label>
<label>CPF
          <input autocomplete="off" id="inPlayerCPF" inputmode="numeric" maxlength="14" placeholder="000.000.000-00" type="text"/>
</label>
</div>
<p class="muted">Os dados ficam apenas neste navegador (localStorage) para personalizar a experiÃªncia.</p>

<section class="game-rules" style="font-size:13px;line-height:1.5;margin-top:12px">
<h3 style="margin-bottom:6px">ğŸ“œ Regras do jogo</h3>
<ul class="rules">
<li><strong>Objetivo:</strong> aplicar Empatia, ConduÃ§Ã£o e Agilidade para conduzir uma negociaÃ§Ã£o eficaz.</li>
<li><strong>Casos:</strong> vocÃª enfrentarÃ¡ <em>8 situaÃ§Ãµes</em> simuladas (clientes diferentes), uma por vez.</li>
<li><strong>Tempo por caso:</strong> cada caso tem um tempo prÃ³prio. A barra mostra o restante. Se zerar, vocÃª segue para o prÃ³ximo.</li>
<li><strong>PontuaÃ§Ã£o:</strong>
<ul>
<li><em>Empatia</em>: +10 se a opÃ§Ã£o tiver <code>empatia</code>; âˆ’6 se tiver <code>frio</code>.</li>
<li><em>ConduÃ§Ã£o</em>: +10 <code>conducao</code>; +6 <code>pergunta_fechada</code>; +4 <code>comunicacao</code>; âˆ’6 <code>desvio</code>.</li>
<li><em>Agilidade</em>: atÃ© +10 por caso, proporcional ao tempo restante.</li>
</ul>
</li>
<li><strong>ğŸ“ Estou verificandoâ€¦</strong>: pausa o tempo por 5s e registra a boa prÃ¡tica no chat.</li>
<li><strong>âš¡ Miniâ€‘game DigitaÃ§Ã£o (30s)</strong>: pode render bÃ´nus de Agilidade (atÃ© +20) aplicado ao final da missÃ£o.</li>
<li><strong>âŒ¨ï¸ Atalhos:</strong> <kbd>V</kbd> = Verificar Â· <kbd>N</kbd> = PrÃ³ximo caso Â· <kbd>O</kbd> = Alternativas.</li>
<li><strong>Resultado e medalhas:</strong> ao final, vocÃª vÃª a soma dos pontos e medalhas por faixa de desempenho.</li>
<li><strong>Privacidade:</strong> Nome e CPF ficam apenas no seu navegador. Nada Ã© enviado para servidores.</li>
</ul>
</section>
<label class="toggle small" style="margin-top:8px">
<input id="tgSkipIntro" type="checkbox"/>
<span aria-hidden="true"></span>
<span class="toggle-text">NÃ£o mostrar novamente</span>
</label>
<div class="modal-actions">
<button class="btn primary" disabled="" id="btnStart">ComeÃ§ar â–¶</button>
</div>
</div>
</div>
<!-- Result Modal -->
<div aria-labelledby="resultTitle" aria-modal="true" class="modal hidden" id="modalResult" role="dialog">
<div class="modal-card wide">
<h2 id="resultTitle">MissÃ£o concluÃ­da ğŸ‰</h2>
<div class="results-grid">
<div class="res-box">ğŸ¤ Empatia<br/><b id="resEmpatia">0</b></div>
<div class="res-box">ğŸ¯ ConduÃ§Ã£o<br/><b id="resConducao">0</b></div>
<div class="res-box">â±ï¸ Agilidade<br/><b id="resAgilidade">0</b></div>
<div class="res-box">â³ Tempo mÃ©dio<br/><b id="resTempoMedio">0s</b></div>
</div>
<div class="medals" id="medals" style="margin-top:10px"></div>
<div class="modal-actions">
<button class="btn secondary" id="btnDownload">Baixar relatÃ³rio (.json)</button>
<button class="btn primary" id="btnRestart">Jogar novamente</button>
</div>
</div>
</div>
<!-- Typing Modal -->
<div aria-labelledby="typingTitle" aria-modal="true" class="modal hidden" id="modalTyping" role="dialog">
<div class="modal-card">
<h3 id="typingTitle">Desafio de DigitaÃ§Ã£o â€” 30s âš¡</h3>
<p>Digite o texto abaixo com precisÃ£o. Sua velocidade (WPM) e acurÃ¡cia poderÃ£o render um bÃ´nus de agilidade no placar.</p>
<div class="typing-box">
<div class="typing-text" id="typingText"></div>
<textarea class="typing-input" disabled="" id="typingInput" placeholder="Digite aqui..."></textarea>
<div class="typing-bar">
<div class="progress" style="flex:1"><div class="progress-bar" id="typingBar" style="width:100%"></div></div>
<div style="min-width:160px;text-align:right">
<span id="typingTime">30s</span> Â·
            WPM: <span id="typingWPM">0</span> Â·
            AcurÃ¡cia: <span id="typingACC">0%</span>
</div>
</div>
</div>
<div class="modal-actions">
<button class="btn ghost" id="btnTypingStart">Iniciar</button>
<button class="btn primary" disabled="" id="btnTypingSubmit">Enviar</button>
<button class="btn secondary" id="btnTypingClose">Fechar</button>
</div>
</div>
</div>
<script src="script.js"></script>
</body>
</html>
